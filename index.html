<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Custom Homepage</title>
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
  <!-- Google Fonts for clock font options -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Mono:wght@400;700&family=Seven+Segment&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-color: #0f111a;
      --glass-bg: rgba(255, 255, 255, 0.05);
      --text-color: #ffffff;
      --accent-color: #00bcd4;
      --font-family: 'Segoe UI', system-ui, sans-serif;
      --shadow-color: rgba(0, 188, 212, 0.2);
      --clock-font: 'Orbitron', sans-serif;
      --clock-color: #00bcd4;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: var(--bg-color);
      font-family: var(--font-family);
      color: var(--text-color);
      min-height: 100vh;
      background-image: url('https://source.unsplash.com/random/1920x1080/?nature,abstract');
      background-repeat: no-repeat;
      background-position: center center;
      background-attachment: fixed;
      background-size: cover;
      transition: background-image 0.5s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .container {
      background: var(--glass-bg);
      padding: 2rem;
      border-radius: 20px;
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      box-shadow: 0 0 30px var(--shadow-color);
      width: 100%;
      height: 100vh;
      display: grid;
      grid-template-rows: auto auto 1fr auto auto;
      gap: 1.5rem;
      align-content: center;
      justify-items: center;
      transition: all 0.3s ease;
    }

    .container:hover {
      box-shadow: 0 0 40px var(--shadow-color);
    }

    h1 {
      font-size: 2.5rem;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .date-time-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .date {
      font-size: 1.2rem;
      font-weight: 300;
      margin-bottom: 0.5rem;
    }

    .digital-clock {
      font-family: var(--clock-font);
      font-size: 3rem;
      font-weight: 700;
      color: var(--clock-color);
      background: rgba(0, 0, 0, 0.2);
      padding: 1rem 2rem;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(0, 188, 212, 0.3);
      transition: transform 0.3s ease, background 0.3s ease;
      text-shadow: 0 0 10px rgba(0, 188, 212, 0.5);
    }

    .digital-clock:hover {
      transform: scale(1.03);
      background: rgba(0, 0, 0, 0.3);
    }

    .weather-container {
      display: flex;
      align-items: center;
      gap: 1rem;
      background: rgba(0, 0, 0, 0.2);
      padding: 1rem;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0, 188, 212, 0.2);
    }

    .weather-container i {
      font-size: 2rem;
    }

    .weather-info {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }

    .weather-info span {
      font-size: 1rem;
    }

    .search-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      max-width: 500px;
    }

    select, input[type="text"] {
      padding: 0.8em;
      border-radius: 12px;
      border: none;
      font-size: 1rem;
      margin: 0.5em 0;
      width: 100%;
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-color);
      backdrop-filter: blur(5px);
      transition: all 0.3s ease;
    }

    select:focus, input[type="text"]:focus {
      outline: none;
      box-shadow: 0 0 10px var(--shadow-color);
      background: rgba(255, 255, 255, 0.15);
    }

    select option {
      background: var(--bg-color);
    }

    button {
      background-color: var(--accent-color);
      color: white;
      padding: 0.8em 1.5em;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      cursor: pointer;
      margin-top: 0.8em;
      transition: all 0.3s ease;
      font-weight: 500;
      width: 100%;
      max-width: 500px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5em;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px var(--shadow-color);
    }

    .quick-links {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      width: 100%;
      max-width: 800px;
    }

    .quick-link {
      background: rgba(255, 255, 255, 0.1);
      padding: 0.6em 1em;
      border-radius: 8px;
      text-decoration: none;
      color: var(--text-color);
      font-size: 0.9rem;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5em;
    }

    .quick-link:hover {
      background: var(--accent-color);
      transform: translateY(-2px);
    }

    .settings-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.1);
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 101;
    }

    .settings-btn:hover {
      background: var(--accent-color);
      transform: rotate(30deg);
    }

    .settings-panel {
      position: fixed;
      top: 0;
      right: -350px;
      width: 350px;
      height: 100vh;
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
      padding: 2rem;
      transition: right 0.3s ease;
      z-index: 100;
      overflow-y: auto;
    }

    .settings-panel.open {
      right: 0;
    }

    .settings-panel h2 {
      margin-bottom: 1.5rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      padding-bottom: 0.5rem;
    }

    .setting-group {
      margin-bottom: 1.5rem;
    }

    .setting-group h3 {
      margin-bottom: 0.8rem;
      font-size: 1rem;
    }

    .color-options {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .color-option {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      cursor: pointer;
      border: 2px solid transparent;
      transition: all 0.3s ease;
    }

    .color-option.selected {
      border-color: white;
      transform: scale(1.1);
    }

    .close-settings {
      position: absolute;
      top: 20px;
      right: 20px;
      background: none;
      border: none;
      color: var(--text-color);
      font-size: 1.5rem;
      cursor: pointer;
    }

    @media (max-width: 600px) {
      .container {
        padding: 1rem;
      }
      
      .digital-clock {
        font-size: 2rem;
        padding: 0.8rem 1.5rem;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .settings-panel {
        width: 100%;
        right: -100%;
      }
      
      .settings-panel.open {
        right: 0;
      }
    }
  </style>
</head>
<body>
  <button class="settings-btn" id="settingsBtn">
    <i class="fas fa-cog"></i>
  </button>  
  <div class="container">
    <h1 id="username">Hello, User!</h1>
    <div class="date-time-container">
      <div class="date" id="date"></div>
      <div class="digital-clock" id="digitalClock"></div>
    </div>
    <div class="weather-container" id="weatherContainer" style="display: none;">
      <i id="weatherIcon" class="fas"></i>
      <div class="weather-info">
        <span id="weatherTemp"></span>
        <span id="weatherCondition"></span>
        <span id="weatherLocation"></span>
      </div>
    </div>
    <div class="search-container">
      <select id="searchEngine">
        <option value="https://www.google.com/search?q=" data-icon="fa-google"><i class="fab fa-google"></i> Google</option>
        <option value="https://www.bing.com/search?q=" data-icon="fa-windows"><i class="fab fa-windows"></i> Bing</option>
        <option value="https://duckduckgo.com/?q=" data-icon="fa-mask"><i class="fas fa-mask"></i> DuckDuckGo</option>
        <option value="https://search.brave.com/search?q=" data-icon="fa-shield-alt"><i class="fas fa-shield-alt"></i> Brave</option>
        <option value="https://www.ecosia.org/search?q=" data-icon="fa-leaf"><i class="fas fa-leaf"></i> Ecosia</option>
        <option value="https://yandex.com/search/?text=" data-icon="fa-y"><i class="fab fa-y"></i> Yandex</option>
        <option value="https://www.startpage.com/do/search?query=" data-icon="fa-eye-slash"><i class="fas fa-eye-slash"></i> Startpage</option>
        <option value="https://github.com/search?q=" data-icon="fa-github"><i class="fab fa-github"></i> GitHub</option>
        <option value="https://www.youtube.com/results?search_query=" data-icon="fa-youtube"><i class="fab fa-youtube"></i> YouTube</option>
      </select>
      <input type="text" id="searchInput" placeholder="Search the web..." autocomplete="off" />
      <button onclick="searchNow()"><i class="fas fa-search"></i> Search</button>
    </div>
    <div class="quick-links" id="quickLinks">
      <a href="https://mail.google.com" class="quick-link"><i class="fas fa-envelope"></i> Gmail</a>
      <a href="https://calendar.google.com" class="quick-link"><i class="fas fa-calendar"></i> Calendar</a>
      <a href="https://drive.google.com" class="quick-link"><i class="fas fa-cloud"></i> Drive</a>
      <a href="https://github.com" class="quick-link"><i class="fab fa-github"></i> GitHub</a>
      <a href="https://reddit.com" class="quick-link"><i class="fab fa-reddit"></i> Reddit</a>
      <a href="https://twitter.com" class="quick-link"><i class="fab fa-twitter"></i> Twitter</a>
    </div>
  </div>  
  <div class="settings-panel" id="settingsPanel">
    <button class="close-settings" id="closeSettings">×</button>
    <h2>Customize Your Homepage</h2>
    <div class="setting-group">
      <h3>Your Name</h3>
      <input type="text" id="nameInput" placeholder="Enter your name" style="width: 100%;">
    </div>
    <div class="setting-group">
      <h3>Weather Location</h3>
      <input type="text" id="weatherCity" placeholder="Enter your city" style="width: 100%;">
    </div>
    <div class="setting-group">
      <h3>Theme Color</h3>
      <div class="color-options">
        <div class="color-option selected" style="background: #00bcd4;" data-color="#00bcd4" data-shadow="rgba(0, 188, 212, 0.2)"></div>
        <div class="color-option" style="background: #ff4081;" data-color="#ff4081" data-shadow="rgba(255, 64, 129, 0.2)"></div>
        <div class="color-option" style="background: #673ab7;" data-color="#673ab7" data-shadow="rgba(103, 58, 183, 0.2)"></div>
        <div class="color-option" style="background: #4caf50;" data-color="#4caf50" data-shadow="rgba(76, 175, 80, 0.2)"></div>
        <div class="color-option" style="background: #ff9800;" data-color="#ff9800" data-shadow="rgba(255, 152, 0, 0.2)"></div>
        <div class="color-option" style="background: #e91e63;" data-color="#e91e63" data-shadow="rgba(233, 30, 99, 0.2)"></div>
      </div>
    </div>
    <div class="setting-group">
      <h3>Clock Settings</h3>
      <label style="display: block; margin-bottom: 0.5rem;">Clock Font</label>
      <select id="clockFont" style="width: 100%; margin-bottom: 0.5rem;">
        <option value="'Orbitron', sans-serif">Orbitron</option>
        <option value="'Roboto Mono', monospace">Roboto Mono</option>
        <option value="'Seven Segment', sans-serif">Seven Segment</option>
      </select>
      <label style="display: block; margin: 0.5rem 0;">Clock Color</label>
      <input type="color" id="clockColor" value="#00bcd4" style="width: 100%;">
      <label style="display: block; margin: 0.5rem 0;">Time Format</label>
      <select id="timeFormat" style="width: 100%;">
        <option value="24">24-Hour</option>
        <option value="12">12-Hour</option>
      </select>
    </div>
    <div class="setting-group">
      <h3>Background</h3>
      <select id="bgSelect" style="width: 100%;">
        <option value="color">Solid Color</option>
        <option value="gradient">Gradient</option>
        <option value="image">Image</option>
      </select>
      <div id="bgOptions" style="margin-top: 10px;">
        <input type="color" id="bgColor" value="#0f111a" style="width: 100%;">
      </div>
    </div>
    <div class="setting-group">
      <h3>Quick Links</h3>
      <div id="quickLinksContainer"></div>
      <div style="display: flex; gap: 10px; margin-top: 10px;">
        <input type="text" id="newLinkName" placeholder="Link name" style="flex: 1;">
        <input type="text" id="newLinkUrl" placeholder="URL" style="flex: 2;">
        <input type="text" id="newLinkIcon" placeholder="Icon (e.g., fa-star)" style="flex: 1;">
        <button onclick="addQuickLink()" style="margin: 0; width: auto;">Add</button>
      </div>
    </div>
    <button onclick="saveSettings()" style="margin-top: 2rem;">Save Settings</button>
  </div>  
  <script>
    // Weather API Key (Replace with your OpenWeatherMap API key)
    const WEATHER_API_KEY = 'YOUR_OPENWEATHERMAP_API_KEY'; // Get one from openweathermap.org

    // Clock and Date
    function updateClock() {
      const now = new Date();
      const timeFormat = localStorage.getItem("timeFormat") || "24";
      const options = timeFormat === "12" ? { hour12: true, hour: "numeric", minute: "2-digit", second: "2-digit" } : { hour12: false, hour: "2-digit", minute: "2-digit", second: "2-digit" };
      document.getElementById("digitalClock").innerText = now.toLocaleTimeString('en-US', options);
      document.getElementById("date").innerText = now.toLocaleDateString('en-US', { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      });
    }

    setInterval(updateClock, 1000);
    updateClock();

    // Weather
    async function fetchWeather(city) {
      if (!city || !WEATHER_API_KEY) return;
      try {
        const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${WEATHER_API_KEY}&units=metric`);
        const data = await response.json();
        if (data.cod === 200) {
          document.getElementById("weatherTemp").innerText = `${Math.round(data.main.temp)}°C`;
          document.getElementById("weatherCondition").innerText = data.weather[0].description;
          document.getElementById("weatherLocation").innerText = `${data.name}, ${data.sys.country}`;
          const weatherIcon = document.getElementById("weatherIcon");
          const condition = data.weather[0].main.toLowerCase();
          weatherIcon.className = `fas ${condition.includes('cloud') ? 'fa-cloud' : condition.includes('rain') ? 'fa-cloud-rain' : condition.includes('clear') ? 'fa-sun' : 'fa-smog'}`;
          document.getElementById("weatherContainer").style.display = 'flex';
        } else {
          document.getElementById("weatherContainer").style.display = 'none';
        }
      } catch (error) {
        console.error('Weather fetch error:', error);
        document.getElementById("weatherContainer").style.display = 'none';
      }
    }

    // Username
    function updateUsername() {
      let username = localStorage.getItem("homepageUsername") || "User";
      document.getElementById("username").innerText = `Hello, ${username}!`;
    }
    
    updateUsername();

    // Search
    function searchNow() {
      const query = document.getElementById("searchInput").value;
      const engine = document.getElementById("searchEngine").value;
      if (query) {
        window.location.href = engine + encodeURIComponent(query);
      }
    }
    
    document.getElementById("searchInput").addEventListener("keyup", function(event) {
      if (event.key === "Enter") {
        searchNow();
      }
    });

    // Settings Panel
    const settingsBtn = document.getElementById("settingsBtn");
    const settingsPanel = document.getElementById("settingsPanel");
    const closeSettings = document.getElementById("closeSettings");
    
    settingsBtn.addEventListener("click", () => {
      settingsPanel.classList.add("open");
      loadSettings();
    });
    
    closeSettings.addEventListener("click", () => {
      settingsPanel.classList.remove("open");
    });
    
    // Color Options
    const colorOptions = document.querySelectorAll(".color-option");
    colorOptions.forEach(option => {
      option.addEventListener("click", () => {
        document.querySelector(".color-option.selected").classList.remove("selected");
        option.classList.add("selected");
      });
    });
    
    // Background Options
    const bgSelect = document.getElementById("bgSelect");
    const bgOptions = document.getElementById("bgOptions");
    
    bgSelect.addEventListener("change", () => {
      const value = bgSelect.value;
      let html = '';
      
      if (value === 'color') {
        html = '<input type="color" id="bgColor" value="#0f111a" style="width: 100%;">';
      } else if (value === 'gradient') {
        html = `
          <div style="display: flex; gap: 10px;">
            <input type="color" id="gradientColor1" value="#0f111a" style="flex: 1;">
            <input type="color" id="gradientColor2" value="#1a1c25" style="flex: 1;">
          </div>
          <select id="gradientDirection" style="width: 100%; margin-top: 10px;">
            <option value="to right">Horizontal</option>
            <option value="to bottom">Vertical</option>
            <option value="to bottom right">Diagonal</option>
          </select>
        `;
      } else if (value === 'image') {
        html = `
          <select id="bgImageSelect" style="width: 100%; margin-bottom: 10px;">
            <option value="nature">Nature</option>
            <option value="abstract">Abstract</option>
            <option value="city">City</option>
            <option value="space">Space</option>
            <option value="custom">Custom URL</option>
          </select>
          <input type="text" id="customBgUrl" placeholder="Enter image URL" style="width: 100%; display: none;">
        `;
      }
      
      bgOptions.innerHTML = html;

      if (value === 'image') {
        const bgImageSelect = document.getElementById("bgImageSelect");
        const customBgUrl = document.getElementById("customBgUrl");
        bgImageSelect.addEventListener("change", function() {
          customBgUrl.style.display = this.value === 'custom' ? 'block' : 'none';
        });
      }
    });
    
    // Quick Links
    function loadQuickLinks() {
      const quickLinks = JSON.parse(localStorage.getItem("quickLinks")) || [
        { name: "Gmail", url: "https://mail.google.com", icon: "fa-envelope" },
        { name: "Calendar", url: "https://calendar.google.com", icon: "fa-calendar" },
        { name: "Drive", url: "https://drive.google.com", icon: "fa-cloud" },
        { name: "GitHub", url: "https://github.com", icon: "fa-github" },
        { name: "Reddit", url: "https://reddit.com", icon: "fa-reddit" },
        { name: "Twitter", url: "https://twitter.com", icon: "fa-twitter" }
      ];
      
      const container = document.getElementById("quickLinksContainer");
      container.innerHTML = '';
      
      quickLinks.forEach((link, index) => {
        const linkDiv = document.createElement("div");
        linkDiv.style.display = "flex";
        linkDiv.style.gap = "10px";
        linkDiv.style.marginBottom = "10px";
        linkDiv.style.alignItems = "center";
        
        linkDiv.innerHTML = `
          <input type="text" value="${link.name}" data-index="${index}" style="flex: 1;">
          <input type="text" value="${link.url}" data-index="${index}" style="flex: 2;">
          <input type="text" value="${link.icon || ''}" data-index="${index}" placeholder="Icon class" style="flex: 1;">
          <button onclick="removeQuickLink(${index})" style="margin: 0; width: auto;">×</button>
        `;
        
        container.appendChild(linkDiv);
      });
      
      updateQuickLinksDisplay(quickLinks);
    }
    
    function updateQuickLinksDisplay(links) {
      const quickLinksContainer = document.getElementById("quickLinks");
      quickLinksContainer.innerHTML = '';
      
      links.forEach(link => {
        const a = document.createElement("a");
        a.href = link.url;
        a.className = "quick-link";
        a.target = "_blank";
        a.innerHTML = `${link.icon ? `<i class="${link.icon.includes('fa-') ? '' : 'fas '}${link.icon}"></i>` : ''} ${link.name}`;
        quickLinksContainer.appendChild(a);
      });
    }
    
    function addQuickLink() {
      const name = document.getElementById("newLinkName").value;
      const url = document.getElementById("newLinkUrl").value;
      const icon = document.getElementById("newLinkIcon").value;
      
      if (name && url) {
        let quickLinks = JSON.parse(localStorage.getItem("quickLinks")) || [];
        quickLinks.push({ name, url, icon });
        localStorage.setItem("quickLinks", JSON.stringify(quickLinks));
        
        loadQuickLinks();
        
        document.getElementById("newLinkName").value = '';
        document.getElementById("newLinkUrl").value = '';
        document.getElementById("newLinkIcon").value = '';
      }
    }
    
    function removeQuickLink(index) {
      let quickLinks = JSON.parse(localStorage.getItem("quickLinks")) || [];
      quickLinks.splice(index, 1);
      localStorage.setItem("quickLinks", JSON.stringify(quickLinks));
      loadQuickLinks();
    }
    
    // Load settings
    function loadSettings() {
      const name = localStorage.getItem("homepageUsername") || '';
      document.getElementById("nameInput").value = name;
      
      const city = localStorage.getItem("weatherCity") || '';
      document.getElementById("weatherCity").value = city;
      
      const color = localStorage.getItem("themeColor") || '#00bcd4';
      const shadow = localStorage.getItem("shadowColor") || 'rgba(0, 188, 212, 0.2)';
      
      document.querySelectorAll(".color-option").forEach(option => {
        option.classList.remove("selected");
        if (option.dataset.color === color) {
          option.classList.add("selected");
        }
      });
      
      const clockFont = localStorage.getItem("clockFont") || "'Orbitron', sans-serif";
      const clockColor = localStorage.getItem("clockColor") || "#00bcd4";
      const timeFormat = localStorage.getItem("timeFormat") || "24";
      document.getElementById("clockFont").value = clockFont;
      document.getElementById("clockColor").value = clockColor;
      document.getElementById("timeFormat").value = timeFormat;
      
      const bgType = localStorage.getItem("bgType") || 'color';
      document.getElementById("bgSelect").value = bgType;
      
      const event = new Event('change');
      bgSelect.dispatchEvent(event);
      
      if (bgType === 'color') {
        const bgColor = localStorage.getItem("bgColor") || '#0f111a';
        document.getElementById("bgColor").value = bgColor;
      } else if (bgType === 'gradient') {
        const gradientColor1 = localStorage.getItem("gradientColor1") || '#0f111a';
        const gradientColor2 = localStorage.getItem("gradientColor2") || '#1a1c25';
        const gradientDirection = localStorage.getItem("gradientDirection") || 'to right';
        
        document.getElementById("gradientColor1").value = gradientColor1;
        document.getElementById("gradientColor2").value = gradientColor2;
        document.getElementById("gradientDirection").value = gradientDirection;
      } else if (bgType === 'image') {
        const bgImage = localStorage.getItem("bgImage") || 'nature';
        document.getElementById("bgImageSelect").value = bgImage;
        
        if (bgImage === 'custom') {
          const customBgUrl = localStorage.getItem("customBgUrl") || '';
          document.getElementById("customBgUrl").value = customBgUrl;
          document.getElementById("customBgUrl").style.display = 'block';
        }
      }
      
      loadQuickLinks();
    }
    
    // Save settings
    function saveSettings() {
      const name = document.getElementById("nameInput").value;
      if (name) {
        localStorage.setItem("homepageUsername", name);
        updateUsername();
      }
      
      const city = document.getElementById("weatherCity").value;
      if (city) {
        localStorage.setItem("weatherCity", city);
        fetchWeather(city);
      }
      
      const selectedColor = document.querySelector(".color-option.selected");
      const color = selectedColor.dataset.color;
      const shadow = selectedColor.dataset.shadow;
      
      localStorage.setItem("themeColor", color);
      localStorage.setItem("shadowColor", shadow);
      
      document.documentElement.style.setProperty('--accent-color', color);
      document.documentElement.style.setProperty('--shadow-color', shadow);
      
      const clockFont = document.getElementById("clockFont").value;
      const clockColor = document.getElementById("clockColor").value;
      const timeFormat = document.getElementById("timeFormat").value;
      
      localStorage.setItem("clockFont", clockFont);
      localStorage.setItem("clockColor", clockColor);
      localStorage.setItem("timeFormat", timeFormat);
      
      document.documentElement.style.setProperty('--clock-font', clockFont);
      document.documentElement.style.setProperty('--clock-color', clockColor);
      updateClock();
      
      const bgType = document.getElementById("bgSelect").value;
      localStorage.setItem("bgType", bgType);
      
      if (bgType === 'color') {
        const bgColor = document.getElementById("bgColor").value;
        localStorage.setItem("bgColor", bgColor);
        document.body.style.background = bgColor;
        document.body.style.backgroundImage = 'none';
      } else if (bgType === 'gradient') {
        const color1 = document.getElementById("gradientColor1").value;
        const color2 = document.getElementById("gradientColor2").value;
        const direction = document.getElementById("gradientDirection").value;
        
        localStorage.setItem("gradientColor1", color1);
        localStorage.setItem("gradientColor2", color2);
        localStorage.setItem("gradientDirection", direction);
        
        document.body.style.background = `linear-gradient(${direction}, ${color1}, ${color2})`;
        document.body.style.backgroundImage = 'none';
      } else if (bgType === 'image') {
        const bgImage = document.getElementById("bgImageSelect").value;
        localStorage.setItem("bgImage", bgImage);
        
        if (bgImage === 'custom') {
          const customUrl = document.getElementById("customBgUrl").value;
          if (customUrl) {
            localStorage.setItem("customBgUrl", customUrl);
            document.body.style.backgroundImage = `url('${customUrl}')`;
          }
        } else {
          let imageUrl = '';
          switch(bgImage) {
            case 'nature': imageUrl = 'https://source.unsplash.com/random/1920x1080/?nature'; break;
            case 'abstract': imageUrl = 'https://source.unsplash.com/random/1920x1080/?abstract'; break;
            case 'city': imageUrl = 'https://source.unsplash.com/random/1920x1080/?city'; break;
            case 'space': imageUrl = 'https://source.unsplash.com/random/1920x1080/?space'; break;
          }
          document.body.style.backgroundImage = `url('${imageUrl}')`;
        }
      }
      
      const quickLinks = [];
      const nameInputs = document.querySelectorAll("#quickLinksContainer input[type='text']:nth-child(1)");
      const urlInputs = document.querySelectorAll("#quickLinksContainer input[type='text']:nth-child(2)");
      const iconInputs = document.querySelectorAll("#quickLinksContainer input[type='text']:nth-child(3)");
      
      for (let i = 0; i < nameInputs.length; i++) {
        quickLinks.push({
          name: nameInputs[i].value,
          url: urlInputs[i].value,
          icon: iconInputs[i].value
        });
      }
      
      localStorage.setItem("quickLinks", JSON.stringify(quickLinks));
      updateQuickLinksDisplay(quickLinks);
      
      settingsPanel.classList.remove("open");
    }
    
    // Load saved settings on page load
    window.addEventListener('load', () => {
      const color = localStorage.getItem("themeColor") || '#00bcd4';
      const shadow = localStorage.getItem("shadowColor") || 'rgba(0, 188, 212, 0.2)';
      const clockFont = localStorage.getItem("clockFont") || "'Orbitron', sans-serif";
      const clockColor = localStorage.getItem("clockColor") || "#00bcd4";
      
      document.documentElement.style.setProperty('--accent-color', color);
      document.documentElement.style.setProperty('--shadow-color', shadow);
      document.documentElement.style.setProperty('--clock-font', clockFont);
      document.documentElement.style.setProperty('--clock-color', clockColor);
      
      const bgType = localStorage.getItem("bgType") || 'color';
      
      if (bgType === 'color') {
        const bgColor = localStorage.getItem("bgColor") || '#0f111a';
        document.body.style.background = bgColor;
      } else if (bgType === 'gradient') {
        const color1 = localStorage.getItem("gradientColor1") || '#0f111a';
        const color2 = localStorage.getItem("gradientColor2") || '#1a1c25';
        const direction = localStorage.getItem("gradientDirection") || 'to right';
        document.body.style.background = `linear-gradient(${direction}, ${color1}, ${color2})`;
      } else if (bgType === 'image') {
        const bgImage = localStorage.getItem("bgImage") || 'nature';
        
        if (bgImage === 'custom') {
          const customUrl = localStorage.getItem("customBgUrl");
          if (customUrl) {
            document.body.style.backgroundImage = `url('${customUrl}')`;
          }
        } else {
          let imageUrl = '';
          switch(bgImage) {
            case 'nature': imageUrl = 'https://source.unsplash.com/random/1920x1080/?nature'; break;
            case 'abstract': imageUrl = 'https://source.unsplash.com/random/1920x1080/?abstract'; break;
            case 'city': imageUrl = 'https://source.unsplash.com/random/1920x1080/?city'; break;
            case 'space': imageUrl = 'https://source.unsplash.com/random/1920x1080/?space'; break;
          }
          document.body.style.backgroundImage = `url('${imageUrl}')`;
        }
      }
      
      const city = localStorage.getItem("weatherCity");
      if (city) fetchWeather(city);
      
      loadQuickLinks();
      updateClock();
    });
  </script>
</body>
  </html>
